<!DOCTYPE html>
<html>
	<head>
		<link href='http://fonts.googleapis.com/css?family=Josefin+Sans' rel='stylesheet' type='text/css'>
		<link rel='stylesheet' href='style.css'/>
		<!--<script src='menu.js'></script>-->
		<script src="jquery-1.11.1.min.js"></script>
		<script src="https://cdn.firebase.com/js/client/1.0.19/firebase.js"></script>
		<script src='https://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js'></script>

		<title>MyShelf</title>
	</head>
	<body>
		<!--<body background="http://www.designsnext.com/wp-content/uploads/2014/01/Attractive-Bookshelf-Design.jpg">-->
	<!--Beginning of menu design-->
	   <div class="menu">
		  
		  <!-- Menu icon -->
		  <div class="icon-close">
			<img src="http://s3.amazonaws.com/codecademy-content/courses/ltp2/img/uber/close.png">
		  </div>

		  <!-- Menu -->
		  <ul>
			<li><a href="BookShelf.html">Book Search</a></li>
			<li><a href="BookRanks.html">Book Ranks</a></li>
			<li><a href="Calendar.html">Calendar</a></li>
			<li><a href="Forum.html">Forum</a></li>
			<li><a href="Team.html">The Team</a></li>
		  </ul>
		</div>
		<!-- Main body -->
		<div class="jumbotron">
		  <div class="icon-menu">
		   <i class="fa fa-bars"></i>
			Menu
			</div>
		</div>
	<!-- end of menu design-->

	<!--Homepage-->
		<div data-role="page" id="BookSearch">
			<!--Header-->
			<div class="Mainheader">
				<h1>MyShelf</h1> 
				<h2>What are you looking for?</h2>
			</div>

			<!--text boxes are made below-->
			<div role="main" class="ui-content">
				<div class="genreButton">
					<center>
						<input type="button" value="Biography" id='bioButton' data-theme="b"/>  
						<input type="button" value="Business" id='busButton' data-theme="b"/> 
						<input type="button" value="Classics" id='clscButton' data-theme="b"/>
						<input type="button" value="Contemporary" id='conButton' data-theme="b"/>
						<input type="button" value="Dystopia" id='dysButton' data-theme="b"/>
						<input type="button" value="Fantasy" id='fansButton' data-theme="b"/>
						<input type="button" value="History" id='hisButton' data-theme="b"/>    
						<input type="button" value="Horror" id='horButton' data-theme="b"/>
						<input type="button" value="Mystery/Suspense" id='mysButton' data-theme="b"/>  
						<input type="button" value="Non-Fiction" id='nficButton' data-theme="b"/>
						<input type="button" value="Plays" id='playButton' data-theme="b"/>     
						<input type="button" value="Poems" id='poefiButton' data-theme="b"/>
						<input type="button" value="Realistic Fiction" id='rficButton' data-theme="b"/>
						<input type="button" value="Romance" id='romButton' data-theme="b"/>
						<input type="button" value="Science" id='sciButton' data-theme="b"/>    
						<input type="button" value="Sci Fi" id='scifiButton' data-theme="b"/>
						<input type="button" value="Supernatural" id='snatButton' data-theme="b"/>  
						<input type="button" value="Young Adult" id='yaButton' data-theme="b"/>
					</center>
				</div>
			</div>
			<div >
				<center>
					<br></br>

					<button type="button" id="submitButton">Submit!</button>

					<form action="Gen Books.html">
						<input type="submit" value="Get Books" id='submitButton'>
					</form>
			</center>
			</div>
		</div>
		<div style="font-family:cambria">
			<ul id="resultList" 		
			</ul>
		</div>
	<!-- Everything below here is JavaScript-->
		<script>
		
			var numSelected = 0;
			var main= function(){
				
				$('.icon-menu').click(function(){
					
					$('.menu').animate({
						left:"0px"
						},200);
					
					$('body').animate({
						left:"285px"
						},200);
					});
			   $('.icon-close').click(function(){
				   $('.menu').animate({
					   left:"-285px"
					   },200);
					   
					$('body').animate({
						left:"0px"
						},200); 
				});
			};

			$(document).ready(main);
			// making buttons change color
			var buttons = $('input');
			
			// when button is clicked it gives the button the css class of being highlighted
			buttons.click(function() {
				
				var isHighlighted = $(this).hasClass("highlight");
			
				if (isHighlighted == true) {
					numSelected = numSelected - 1;
				} 

				var id=this.id;
				if (id != "submitButton") {
					var isHighlighted = $(this).hasClass("highlight");

				
					if (isHighlighted == true) {
						numSelected = numSelected - 1;
					} 
					

					$(this).toggleClass("highlight");
				} 
				else {
					alert("Please select only three categories!");

					if (numSelected < 3) {
						if (isHighlighted != true) {
							numSelected = numSelected + 1;
						}			
						
						$(this).toggleClass("highlight");
					} else {
						alert("Please select only three categories!");
					}
>>>>>>> origin/master
				}
			});
			var basenumber,basegenre;
			 //basenumber = 1;
			   //basegenre = "classics";
			document.getElementById('bioButton').onclick = function() {
			   basenumber = 0;
			   basegenre = "biographies";
			}
			document.getElementById('clscButton').onclick = function() {
				basenumber = 1;
				basegenre = "classics";
			}
			document.getElementById('dysButton').onclick = function() {
				basenumber = 2;
				basegenre = "dystopia";
			}
			document.getElementById('fansButton').onclick = function() {
				basenumber = 3;
				basegenre = "fantasy";
			}
			document.getElementById('hisButton').onclick = function() {
				basenumber = 4;
				basegenre = "history";
			}
			document.getElementById('horButton').onclick = function() {
				basenumber = 5;
				basegenre = "horror";
			}
			document.getElementById('nficButton').onclick = function() {
				basenumber = 6;
				basegenre = "nonfiction";
			}
			document.getElementById('playButton').onclick = function() {
				basenumber = 7;
				basegenre = "plays";
			}
			document.getElementById('rficButton').onclick = function() {
				basenumber = 8;
				basegenre = "realistic fiction";
			}

			/*document.getElementById('').onclick = function() {
			basenumber = 9;
			basegenre = "religious";
			}*/

			document.getElementById('romButton').onclick = function() {
			basenumber = 10;
			basegenre = "romance";
			}
			document.getElementById('sciButton').onclick = function() {
			basenumber = 11;
			basegenre = "science";
			}
			document.getElementById('scifiButton').onclick = function() {
			basenumber = 12;
			basegenre = "science fiction";
			}
			document.getElementById('snatButton').onclick = function() {
			basenumber = 13;
			basegenre = "supernatural";
			}
			document.getElementById('mysButton').onclick = function() {
			basenumber = 14;
			basegenre = "suspense mystery";
			}
			document.getElementById('yaButton').onclick = function() {
			basenumber = 15;
			basegenre = "young adult";
			}

			$("#submitButton").click(function(){
				// creates new Firebase
				var BookList = new Firebase("https://burning-fire-5891.firebaseio.com/");
				//var resultList = []; 
				//constant creates link to 'books' object
				var constant = BookList.child('books');
				//leads to the amount in the genre
				var amountInList = constant.child(basenumber+'/'+'/amount');
				amountInList.once('value', function(nameSnapshot) {
					// declares value of book amount based on the link
					var bookAmount = nameSnapshot.val();
					for (var i=0;i<bookAmount;i++){
						// adds on to link to lead to title, isbn, and author
						var title = constant.child(basenumber+"/"+basegenre+"/"+i+'/title');
						var isbn = constant.child(basenumber+'/'+basegenre+'/'+i+'/ISBN');
						var author = constant.child(basenumber+'/'+basegenre+'/'+i+'/author');
						
						//var path = title.toString();
						title.once('value', function(nameSnapshot) {
							var displayTitle = nameSnapshot.val();
							//resultList.push(displayTitle);
							$('#resultList').append('<li>'+ displayTitle +'</li>');
							});
						author.once('value', function(nameSnapshot) {
							var displayauthor = nameSnapshot.val();
							$('#resultList').append(displayauthor);
							});	
						//var covers = isbn.toString();
						isbn.once('value', function(nameSnapshot) {
							var displayisbn = nameSnapshot.val();
							//resultList.push(displayisbn);
							//$('#testList').append('<li>'+ displayisbn +'</li>');
							$('#resultList').append('<br><img src="http://covers.openlibrary.org/b/isbn/'+ displayisbn + '-M.jpg" />');
							});
					}
				});
		});
			
		</script>
	</body>
</html>